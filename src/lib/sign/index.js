import HmacSHA from "crypto-js/hmac-sha256";
import encBase64 from "crypto-js/enc-base64";
import encUTF8 from "crypto-js/enc-utf8";
import MD5 from "crypto-js/md5";

const KEY_SORT = ["domain", "nonce"];

function _0x1324(_0x1cd2e1, _0x130eac) {
  const _0x91a001 = _0x49a2();
  return (
    // eslint-disable-next-line no-func-assign
    (_0x1324 = function (_0x364b40, _0x2e03d3) {
      _0x364b40 = _0x364b40 - (-0x41b * -0x9 + 0x4 * -0x12d + -0x17 * 0x156);
      let _0xe07323 = _0x91a001[_0x364b40];
      return _0xe07323;
    }),
    _0x1324(_0x1cd2e1, _0x130eac)
  );
}
(function (_0x7f81c7, _0x5f1a67) {
  const _0x2c8822 = _0x1324,
    _0x1b4b28 = _0x7f81c7();
  // eslint-disable-next-line no-constant-condition
  while ([]) {
    try {
      const _0x189910 =
        -parseInt(_0x2c8822(0x190)) / (0x2465 + -0x4 * -0x1f7 + -0x2c40) +
        parseInt(_0x2c8822(0x18e)) / (0x4 * 0x151 + -0x2c5 * -0x7 + 0x837 * -0x3) +
        parseInt(_0x2c8822(0x19c)) / (-0x268f * -0x1 + 0x1 * 0x175e + -0x3dea) +
        (-parseInt(_0x2c8822(0x192)) / (-0x1 * 0xd4d + -0x2 * 0x837 + 0x1dbf)) *
          (-parseInt(_0x2c8822(0x191)) / (-0x305 * 0x2 + -0x439 + 0x149 * 0x8)) +
        (parseInt(_0x2c8822(0x198)) / (-0xdb * 0x1d + -0x8 * 0xeb + 0x202d)) *
          (parseInt(_0x2c8822(0x188)) / (0x1c20 + 0x728 + -0x2341)) +
        parseInt(_0x2c8822(0x199)) / (-0x109 * -0x19 + -0x1568 + -0x1 * 0x471) +
        (-parseInt(_0x2c8822(0x18f)) / (-0x42e + 0x10 * -0x17 + -0x5a7 * -0x1)) *
          (parseInt(_0x2c8822(0x185)) / (-0x2b * 0xd + -0x30 * 0xd + -0x1 * -0x4a9));
      if (_0x189910 === _0x5f1a67) break;
      else _0x1b4b28["push"](_0x1b4b28["shift"]());
    } catch (_0x27af44) {
      _0x1b4b28["push"](_0x1b4b28["shift"]());
    }
  }
})(_0x49a2, 0x347bf * 0x5 + -0x1b28 * 0x7a + 0x96a4d);
function createSecret(_0x514df4) {
  const _0x3f1df8 = _0x1324,
    _0x5908c5 = {
      SDspV: function (_0x5fd0c1, _0xd472ef) {
        return _0x5fd0c1 < _0xd472ef;
      },
      rGEYl: function (_0x503d24, _0x5be155) {
        return _0x503d24 % _0x5be155;
      },
      VZJfe: function (_0x588f9e, _0x7fd988) {
        return _0x588f9e(_0x7fd988);
      },
    },
    _0x20b757 = _0x514df4[_0x3f1df8(0x197)]((_0x208446) => {
      const _0x1da374 = _0x3f1df8;
      return _0x208446[_0x1da374(0x18b)]("");
    });
  let _0x1f10b5 = "";
  for (
    let _0x3fab30 = 0x3c * 0x11 + 0xb9e * 0x1 + -0xf9a * 0x1;
    _0x5908c5[_0x3f1df8(0x19d)](_0x3fab30, 0x219 * -0x1 + -0x1553 * -0x1 + -0x7 * 0x2b6);
    _0x3fab30++
  ) {
    const _0x16523a = _0x5908c5[_0x3f1df8(0x19f)](_0x3fab30, _0x20b757[_0x3f1df8(0x1a2)]),
      _0x5c7f13 = _0x20b757[_0x16523a],
      _0x971678 = _0x5908c5[_0x3f1df8(0x19f)](_0x3fab30, _0x5c7f13[_0x3f1df8(0x1a2)]);
    _0x1f10b5 += _0x20b757[_0x16523a][_0x971678];
  }
  return _0x5908c5[_0x3f1df8(0x189)](MD5, _0x1f10b5)[_0x3f1df8(0x18a)]();
}
function _0x49a2() {
  const _0x4c7e4c = [
    "rGEYl",
    "NmpxU",
    "slice",
    "length",
    "push",
    "633460XuNCIk",
    "reduce",
    "uOyJP",
    "35OcZviy",
    "VZJfe",
    "toString",
    "split",
    "random",
    "stringify",
    "206210IdyQPX",
    "189wJlkEn",
    "1356836DYERPI",
    "1741045DiMsny",
    "4VeTFfQ",
    "JYFwC",
    "host",
    "ZnRzm",
    "gHnhq",
    "map",
    "1260222ZAskTe",
    "13104328KlwdnD",
    "location",
    "parse",
    "1173990JZmMLy",
    "SDspV",
    "WZCmq",
  ];
  // eslint-disable-next-line no-func-assign
  _0x49a2 = function () {
    return _0x4c7e4c;
  };
  return _0x49a2();
}
function sign() {
  const _0x203c22 = _0x1324,
    _0x47e838 = {
      gHnhq: function (_0x40881d, _0x11d35c) {
        return _0x40881d + _0x11d35c;
      },
      WZCmq: function (_0x1365d7, _0x13d008) {
        return _0x1365d7(_0x13d008);
      },
      JYFwC: function (_0x46fbd1, _0x39080c) {
        return _0x46fbd1 + _0x39080c;
      },
      NmpxU: function (_0xeb56f6, _0x2cde65) {
        return _0xeb56f6 * _0x2cde65;
      },
      uOyJP: function (_0x1b457c, _0x3af224, _0x4242b9) {
        return _0x1b457c(_0x3af224, _0x4242b9);
      },
      ZnRzm: function (_0xc6e195, _0x2d1db1) {
        return _0xc6e195(_0x2d1db1);
      },
    },
    _0x5a6bfd = _0x47e838[_0x203c22(0x196)](
      _0x47e838[_0x203c22(0x19e)](
        parseInt,
        _0x47e838[_0x203c22(0x193)](
          _0x47e838[_0x203c22(0x1a0)](
            Math[_0x203c22(0x18c)](),
            0xd74390c1ae9 + -0xdc03ea0799e + 0x9645406feb5
          ),
          ""
        )
      ),
      ""
    )[_0x203c22(0x1a1)](0x469 * 0x5 + -0x2244 + 0xc37, -0x168 + -0x3 * -0xa13 + -0x1cc5),
    _0x13fcfc = { domain: window[_0x203c22(0x19a)][_0x203c22(0x194)], nonce: _0x5a6bfd },
    _0x590e87 = KEY_SORT[_0x203c22(0x186)]((_0x372b86, _0x5f4703) => {
      const _0x1e4f76 = _0x203c22;
      return _0x372b86[_0x1e4f76(0x1a3)](_0x13fcfc[_0x5f4703]), _0x372b86;
    }, []),
    _0x552fe2 = KEY_SORT[_0x203c22(0x186)]((_0x3cef09, _0xbda90d) => {
      return (
        _0x3cef09 && (_0x3cef09 += ";"),
        (_0x3cef09 += _0xbda90d + "=>" + _0x13fcfc[_0xbda90d]),
        _0x3cef09
      );
    }, ""),
    _0x49df1c = _0x47e838[_0x203c22(0x187)](
      HmacSHA,
      _0x552fe2,
      _0x47e838[_0x203c22(0x195)](createSecret, _0x590e87)
    ),
    _0x308989 = _0x49df1c[_0x203c22(0x18a)](),
    _0x1e0f11 = { ..._0x13fcfc, sign: _0x308989 },
    _0x45219f = encBase64[_0x203c22(0x18d)](
      encUTF8[_0x203c22(0x19b)](JSON[_0x203c22(0x18d)](_0x1e0f11))
    );
  return _0x45219f;
}

export default sign;
